<?xml version="1.0" encoding="utf-8"?>
<search>
  <entry>
    <title>AIS3 Junior 心得</title>
    <url>/AIS3-Junior/</url>
    <content><![CDATA[<hr>
<h3 id="前言">前言</h3>
<p>今年的 AIS3 Junior 舉辦在國立中正大學，課程共五天，也一樣有提供住宿及車票補助。超讚ㄉ<br>
我去年也曾參加 AIS3 Junior，不過因為當時是初次接觸資安，雖然最終有順利取得合格證書，但許多技術細節仍有些不熟悉。考量時間許可的情況下，我再次報名並順利被甄選錄取了！</p>
<hr>
<h3 id="住宿">住宿</h3>
<p><img  
                     lazyload
                     src="/images/loading.svg"
                     data-src="/images/AIS3/dorm.png"
                      alt="學生宿舍"
                ><br>
課程期間都是住在中正大學的學生宿舍(四人房)，要記得帶自己的拖鞋、枕頭、棉被、睡墊(很重要.ᐟ.ᐟ.ᐟ)、盥洗用品及吹風機等。裡面雖然有點老舊但還算乾淨，廁所也看得出來有重新裝修過，而且有乾濕分離。不過因為床板超硬，所以沒帶睡墊的話，根本睡不著而且因為床板老舊，翻身時還會有奇怪聲響。宿舍附近有超商和早餐店，半夜肚子餓的話可以去超商買消夜吃。不過課程所在的資訊大樓附近基本上就沒甚麼吃的了，除了活動中心那棟裡面有超商、貴貴的義大利麵和幾間學生餐廳外，其他吃的幾乎都要走出正門大概10分鐘左右才能找到。這幾天基本上不是跟助教、組員們一起吃，就是等回宿舍再去超商買或投販賣機。</p>
<hr>
<h3 id="Day-0">Day 0</h3>
<p><img  
                     lazyload
                     src="/images/loading.svg"
                     data-src="/images/AIS3/register.png"
                      alt="報到處"
                ><br>
這天是課程中最輕鬆的一天，不過因為中正大學地理位置較偏僻，所以不論是搭高鐵或是臺鐵都要花上不少時間轉車。我是當天早上搭臺鐵到嘉義車站，在嘉義市區晃到下午再搭臺鐵到民雄車站，然後剛好在課程群組裡找到其他三人也要從民雄車站移動到中正大學，於是就四個人一起搭計程車去(跳表，車資220元)。抵達會場並報到後，安裝 Kali 環境、VPN 和認識助教及組員等。傍晚要從集合的圖書資訊大樓拖行李到宿舍，路途約15分鐘但半路突然突如其來的傾盆大雨讓我們的衣物、鞋子和行李都濕了。稍微整理後，我和助教及組員們一起吃附近的小火鍋。再次回到宿舍後，我和室友先解了幾題隔天上課的 Flag。</p>
<blockquote>
<p>本日睡眠時間： 01:30~07:00，約5.5小時。</p>
</blockquote>
<hr>
<h3 id="Day-1">Day 1</h3>
<p><img  
                     lazyload
                     src="/images/loading.svg"
                     data-src="/images/AIS3/CTF.png"
                      alt="CTF"
                ><br>
早上和助教及組員們一起吃完早餐後，拖著疲憊的身體前往資訊大樓開始一天的課程。早上的活動是開幕式和資安倫理課程，讓我們瞭解學習資安技術應具備的道德與責任。下午則進行破冰遊戲，需要根據提示並運用基礎資安概念解題，完成一定題數還有餅乾。隨後的資安概論課程聚焦於 Linux 指令的實際操作，基本上只要熟悉 Linux 大部分的 Flag 都不難找到。</p>
<blockquote>
<p>本日睡眠時間： 02:30~07:00，約4.5小時。</p>
</blockquote>
<hr>
<h3 id="Day-2">Day 2</h3>
<p><img  
                     lazyload
                     src="/images/loading.svg"
                     data-src="/images/AIS3/lecture.png"
                      alt="資安講座"
                ><br>
今天主要的課程是由 <strong>徐牧遠(Red) 講師</strong> 帶來的網頁安全。我曾在去年的課程中學習過 Web Security，因此能跟上講師的節奏，也解出了不少進階題。晚上則安排了資安講座，邀請資安大佬 <strong>馬聖豪 前輩</strong>，分享自己從小透過撰寫遊戲外掛賺錢到參加第一屆 AIS3，最終在資安領域嶄露頭角的心路歷程。</p>
<blockquote>
<p>本日睡眠時間： 03:00~07:30，約4.5小時。</p>
</blockquote>
<hr>
<h3 id="Day-3">Day 3</h3>
<p><img  
                     lazyload
                     src="/images/loading.svg"
                     data-src="/images/AIS3/project.png"
                      alt="專案製作"
                ><br>
最後一門課程是由 <strong>周佑康(Slash) 講師</strong> 帶來的 AI 應用安全實務。我覺得 AI 應用安全是個全新的體驗。因為我從未想過利用這些攻擊方法來影響人工智慧，取得可能混進訓練資料中的敏感資訊或在圖片中加入雜訊使神經網路辨認錯誤。講師從 LLM 的訓練原理講起，並介紹常見的大型語言模型及講解 Prompt Injection 這個攻擊方法。課後作業則是從講師提供的 AI 服務中取得機密資訊。此外，我們在這堂課中也學習了 CNN 辨識影像的原理，並學習攻擊方法 - Adversarial Attack，透過演算法在圖片中加入許多極小的雜訊，使神經網路無法正確辨識圖片。因為隔天就要發表專題了，所以我們今晚熬夜將作業的 writeup 完成並將專題推到一定進度後才去睡覺。</p>
<blockquote>
<p>本日睡眠時間： 04:30~07:00，約2.5小時。</p>
</blockquote>
<hr>
<h3 id="Day-4">Day 4</h3>
<p><img  
                     lazyload
                     src="/images/loading.svg"
                     data-src="/images/AIS3/report.png"
                      alt="上台發表"
                ><br>
今天早上是最後的專題製作時間，我們這組的專題名稱是 「原來 log 也可以寫 webshell !? 」 主要是透過 php 的 strcmp 函式漏洞 bypass 登入頁面，接著利用系統中的 LFI 漏洞實現 RCE。下午則是各組上台發表專題，讓其他組別的學員聆聽與學習的時間。從選定主題、漏洞復現到最終完成專題、上台分享時，那成就感不言而喻。雖然在處理環境時，我們遇到了不少問題，但一次次克服問題後，我們都會有更多的收穫。能將學到的知識與經驗分享給大家，也是一次非常寶貴的學習機會。</p>
<hr>
<h3 id="心得">心得</h3>
<p><img  
                     lazyload
                     src="/images/loading.svg"
                     data-src="/images/AIS3/ending.png"
                      alt="結業式"
                ><br>
首先我要感謝 <strong>C組組員們</strong>、<strong>Kazma 助教</strong>和<strong>Sharon 助教</strong>，感謝你們在這幾天提供了我這麼多的幫助。雖然在專題中，我負責的是蒐集資料和尋找漏洞的防範方法，但對 php 不熟的我，光是搞懂基本語法就花了些時間。理解攻擊方法後尋找先例並思考有效的防範方法更是花了快一整晚。不過我們也順利在最後一天完成專題，並和組員們一起上台發表。參加這次課程，讓我認識了許多電神並對未來的學習有了明確方向，甚至有幸與 <strong>Kazma</strong>、<strong>Vincent</strong>、<strong>OsGa</strong> 等厲害的學長們同桌吃早餐真的是我沒有想到的。不過這也讓我意識到，自己在資安領域還有很多技術需要學習、探索。雖然目前的學習深度和廣度還不足以完全應對現實世界中的攻擊與威脅，但對未來繼續深入學習充滿了動力！沒意外的話，我未來應該也會往這方面升學吧！雖然很累，但學到新知識及技術的成就感，真的讓人有想要繼續研究下去的動力。**To be a good hacker！**💪💪</p>
]]></content>
      <categories>
        <category>課程學習</category>
        <category>AIS3</category>
        <category>心得</category>
      </categories>
      <tags>
        <tag>AIS3</tag>
        <tag>心得</tag>
        <tag>中正大學</tag>
        <tag>課程學習</tag>
      </tags>
  </entry>
  <entry>
    <title>初探機器學習</title>
    <url>/Machine-Learning/</url>
    <content><![CDATA[<style>
    #light {
    background-color: #ffe45e;
    padding: 0.2em;
    border-radius: 4px;
    color: #808080;
    }
    .dark-mode #light {
    background-color: #ffea70;
    padding: 0.2em;
    border-radius: 4px;
    color: #808080;
    }
</style>
<h3 id="零、前言">零、前言</h3>
<p>本篇文章為我參加國立中興大學 112 學年度大學先修課程 【初探機器學習】 時所撰寫的筆記。<br>
課程結束後，決定將筆記重新整理後公開，期望能對機器學習有興趣的同學提供參考及幫助。</p>
<details class="cyan" data-header-exclude><summary><i class="fa-solid fa-chevron-right"></i>修課證明 </summary>
              <div class='content'>
              <p>註: 已將敏感資訊進行處理<br><img  
                     lazyload
                     src="/images/loading.svg"
                     data-src="/images/Folder/machine_learning.png"
                      alt="修課通過證明"
                ></p>
              </div>
            </details>
<h3 id="一、認識機器學習">一、認識機器學習</h3>
<h4 id="機器學習">機器學習</h4>
<table>
<thead>
<tr>
<th style="text-align:center"></th>
<th style="text-align:center">特徵 (Feature)</th>
<th style="text-align:center">標籤 (Label)</th>
</tr>
</thead>
<tbody>
<tr>
<td style="text-align:center"><strong>樣本 (Instance)</strong></td>
<td style="text-align:center">X<sub>1</sub>, X<sub>2</sub>, X<sub>3</sub> … X<sub>n</sub></td>
<td style="text-align:center">y</td>
</tr>
</tbody>
</table>
<h5 id="1-迴歸-Regression">1. 迴歸 (Regression)</h5>
<ul>
<li>數值資料</li>
</ul>
<blockquote>
<p>最後一欄表格是 <span id="light">數值</span> 的資料</p>
</blockquote>
<h5 id="2-分類-Classification">2. 分類 (Classification)</h5>
<ul>
<li>類別資料</li>
</ul>
<blockquote>
<p>最後一欄表格是 <span id="light">Yes/No</span> 、 <span id="light">True/False</span> 的資料</p>
</blockquote>
<h5 id="3-分群-Clustering">3. 分群 (Clustering)</h5>
<blockquote>
<p>沒有最後一欄標籤，<span id=light>僅有特徵 X 值</span></p>
</blockquote>
<h4 id="機器學習演算法">機器學習演算法</h4>
<h5 id="演算法-Algorithm">演算法 (Algorithm)</h5>
<pre class="mermaid">graph LR;
x1(("x₁")) --> id["機器學習演算法<br/>Machine Learning Algorithm"];
x2(("x₂")) --> id;
x3(("x₃")) --> id;
id --> id1["模型<br/>Model"];
id1 --> id2["ŷ預測值"];
id2 -.精確度<br/>Accuracy.-> y(("y"));</pre>
<h5 id="1-迴歸演算法-模型-Regression-Algorithms-Models">1. 迴歸演算法/模型 (Regression Algorithms/Models)</h5>
<blockquote>
<p>找出模型，用來預測 ŷ</p>
</blockquote>
<ul>
<li>線性迴歸</li>
<li>支持向量機</li>
<li>決策數</li>
<li>隨機森林</li>
<li>神經網路</li>
</ul>
<h5 id="2-分類演算法-模型-Classification-Algorithms-Models">2. 分類演算法/模型 (Classification Algorithms/Models)</h5>
<blockquote>
<p>找出模型，預測最可能的類型</p>
</blockquote>
<ul>
<li>邏輯斯迴歸</li>
<li>Softmax迴歸</li>
<li>支持向量機</li>
<li>決策樹</li>
<li>隨機森林</li>
<li>神經網路</li>
</ul>
<h5 id="3-分群演算法-模型-Clustering-Algorithms-Models">3. 分群演算法/模型 (Clustering Algorithms/Models)</h5>
<blockquote>
<p>找出模型，預測最可能的群體</p>
</blockquote>
<ul>
<li>主成分分析</li>
<li>LLE</li>
<li>DBSCAN</li>
<li>K-Means</li>
<li>高斯混和模型</li>
<li>神經網路</li>
</ul>
<h4 id="機器學習系統的種類">機器學習系統的種類</h4>
<h5 id="1-監督式學習-Supervised-Learning">1. 監督式學習 (Supervised Learning)</h5>
<ul>
<li>資料包含(x,y)</li>
<li>用來 <span id=light>預測ŷ</span></li>
</ul>
<h5 id="2-非監督式學習-Unsupervised-Learning">2. 非監督式學習 (Unsupervised Learning)</h5>
<ul>
<li>資料只有x，沒有y</li>
<li>用於 <span id=light>分群</span> 、 <span id=light>偵測異常</span> 、 <span id=light>降維</span></li>
</ul>
<h5 id="3-半監督式學習-SEMI-Supervised-Learning">3. 半監督式學習 (SEMI-Supervised Learning)</h5>
<ul>
<li>部分資料包含(x,y)，部分資料沒有y</li>
<li>用於 <span id=light>預測ŷ</span></li>
</ul>
<h5 id="4-強化學習-Reinforcement-Learning">4. 強化學習 (Reinforcement Learning)</h5>
<ul>
<li>與環境互動學習</li>
<li>用於 <span id=light>取得最大化的預期利益</span></li>
</ul>
<h4 id="模型訓練">模型訓練</h4>
<h5 id="1-訓練集-測試集-Training-Testing-Set">1. 訓練集/測試集 (Training/Testing Set)</h5>
<blockquote>
<p>將資料分成 <sup>1.</sup> 訓練集 (約 70%~80%) 與 <sup>2.</sup> 測試集 (約 20%~30%)</p>
</blockquote>
<pre class="mermaid">graph LR;
x1(訓練集<br/> Training Set)-->id(機器學習演算法<br/> Machine Learning Algorithm);
id-->id1(模型<br/> Model);
x2(測試集<br/> Testing Set)--->id1;
id1-->id2(ŷ預測值);
id2<-.訓練精確度<br/> Accuracy.->y1((y));
id1-->id3(ŷ預測值)
id3<-.測試精確度<br/> Accuracy.->y2((y));</pre>
<ul>
<li>
<p>迴歸精確度 $R^2 = 1 - \frac{\displaystyle\sum_{i=1}^{m}(y_i - \hat{y}_i)^2}{\displaystyle\sum_{i=1}^{m}(y_i - \bar{y}_i)^2}$</p>
</li>
<li>
<p>分類精確度 $\dfrac{\displaystyle\sum_{i=1}^{m}I(y_i=\hat{y}_i)}m$</p>
</li>
</ul>
<h6 id="a-過擬合-overfitting">a. 過擬合 (overfitting)</h6>
<blockquote>
<p>測試精確度小於訓練精確度</p>
</blockquote>
<p>解決方法:</p>
<ul>
<li>增加訓練資料</li>
<li>簡化、限制模型</li>
<li>減少訓練資料雜訊</li>
</ul>
<h6 id="b-欠擬合-underfitting">b. 欠擬合 (underfitting)</h6>
<blockquote>
<p>訓練集精確度很低</p>
</blockquote>
<p>解決方法:</p>
<ul>
<li>增加模型參數</li>
<li>降低模型限制</li>
<li>增加有效特徵</li>
</ul>
<h5 id="2-交叉驗證-Cross-Validation">2. 交叉驗證 (Cross Validation)</h5>
<ul>
<li>K-fold Cross Validation
<ul>
<li>將訓練資料切割成k等分</li>
<li>每份輪流當驗證資料，其他當訓練資料</li>
</ul>
</li>
</ul>
<p>優點:</p>
<blockquote>
<p>在訓練時可以評估模型的能力，提前發現 overfitting 或 underfitting，並調整模型超參數。</p>
</blockquote>
<h5 id="3-超參數調整-Hyperparameter-Tuning">3. 超參數調整 (Hyperparameter Tuning)</h5>
<ul>
<li>網格搜尋
<ul>
<li>指定超參數</li>
<li>使用所有超參數組合來訓練模型</li>
<li>以搜尋到的最佳超參數訓練最終模型</li>
</ul>
</li>
<li>隨機搜尋
<ul>
<li>指定超參數範圍</li>
<li>在範圍內隨機選取數個超參數組合</li>
<li>以搜尋到的最佳超參數訓練最終模型</li>
</ul>
</li>
</ul>
]]></content>
      <categories>
        <category>課程學習</category>
        <category>機器學習</category>
        <category>學習筆記</category>
      </categories>
      <tags>
        <tag>機器學習</tag>
        <tag>學習筆記</tag>
        <tag>中興大學</tag>
        <tag>大學先修</tag>
        <tag>課程學習</tag>
      </tags>
  </entry>
  <entry>
    <title>文章字數統計</title>
    <url>/words/</url>
    <content><![CDATA[
<!DOCTYPE html>
<html lang="zh-TW">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <style>
        body {
            background-color: #f9f9f9;
            color: #333;
            font-family: Arial, sans-serif;
            margin: 0;
            padding: 0;
        }

        .container {
            width: 100%;
            margin: 0;
            padding: 0;
            box-sizing: border-box;
        }

        .result {
            display: flex;
            flex-direction: column;
            gap: 15px;
            margin-top: 20px;
            width: 100%;
            padding: 0 20px;
        }

        .group {
            display: grid;
            grid-template-columns: 1fr 1fr;
            gap: 20px;
            width: 100%;
        }

        .metric-pair {
            display: flex;
            justify-content: space-between;
            align-items: center;
            width: 100%;
        }

        .value {
            min-width: 4ch;
            text-align: right;
            font-weight: bold;
        }

        textarea {
            width: 100%;
            min-height: 150px;
            padding: 12px;
            font-size: 16px;
            border-radius: 6px;
            border: 1px solid #ccc;
            box-sizing: border-box;
            transition: all 0.3s ease;
            background-color: #fff;
            color: #333;
            margin-bottom: 20px;
        }

        @media (min-width: 601px) {
            .group-triple {
                grid-template-columns: 1fr 1fr 1fr;
            }
        }

        @media (max-width: 600px) {
            .result {
                padding: 0 10px;
                gap: 10px;
            }

            .group, .group-triple {
                grid-template-columns: 1fr 1fr;
                gap: 10px;
            }

            .group-triple .metric-pair:nth-child(3) {
                grid-column: auto;
            }

            .group-triple:last-child {
                display: grid;
                grid-template-areas: 
                    "space punct"
                    "emoji emoji";
            }

            .metric-pair {
                margin: 0;
            }
        }

        body.dark-mode {
            background-color: #1e1e1e;
            color: #e0e0e0;
        }

        body.dark-mode textarea {
            background-color: #333333;
            color: #e0e0e0;
            border: 1px solid #444;
        }
    </style>
</head>
<body>
    <hr>
    <div class="container">
        <textarea id="textInput" placeholder="請輸入內容..." oninput="analyzeText()"></textarea>
        
        <div class="result">
            <div class="group">
                <div class="metric-pair">
                    <span>文章字數</span>
                    <span id="charCount" class="value">0</span>
                </div>
                <div class="metric-pair">
                    <span>總字元數</span>
                    <span id="weightedCharCount" class="value">0</span>
                </div>
            </div>
            
            <div class="group">
                <div class="metric-pair">
                    <span>文字段落</span>
                    <span id="lineCount" class="value">0</span>
                </div>
                <div class="metric-pair">
                    <span>總單字數</span>
                    <span id="englishWordCount" class="value">0</span>
                </div>
            </div>
            
            <div class="group group-triple">
                <div class="metric-pair">
                    <span>中文字數</span>
                    <span id="chineseCount" class="value">0</span>
                </div>
                <div class="metric-pair">
                    <span>英文字數</span>
                    <span id="englishCharCount" class="value">0</span>
                </div>
                <div class="metric-pair">
                    <span>數字數量</span>
                    <span id="numberCount" class="value">0</span>
                </div>
            </div>
            
            <div class="group group-triple">
                <div class="metric-pair">
                    <span>空格數量</span>
                    <span id="spaceCount" class="value">0</span>
                </div>
                <div class="metric-pair">
                    <span>標點符號</span>
                    <span id="punctCount" class="value">0</span>
                </div>
                <div class="metric-pair">
                    <span>Emoji🙂</span>
                    <span id="emojiCount" class="value">0</span>
                </div>
            </div>
        </div>
    </div>
    <script data-swup-reload-script type="text/javascript">
        function analyzeText() {
            const text = document.getElementById('textInput').value;

            const lineCount = text.split(/\r?\n/).filter(line => line.trim().length > 0).length;
            const chineseCount = (text.match(/[\u4e00-\u9fff]/g) || []).length;
            const englishWordCount = (text.match(/[a-zA-Z]+(?:[-'][a-zA-Z]+)*/g) || []).length;
            const englishCharCount = (text.match(/[a-zA-Z]/g) || []).length;
            const numberCount = (text.match(/\d/g) || []).length;
            const emojiMatches = (text.match(/[\uD83C-\uDBFF\uDC00-\uDFFF]/g) || []);
            const emojiCount = Math.floor(emojiMatches.length / 2);
            const punctCount = (text.match(/[^\w\s\u4e00-\u9fff\d]/g) || []).filter(char => !/[\uD83C-\uDBFF\uDC00-\uDFFF]/.test(char)).length;
            const spaceCount = (text.match(/\s/g) || []).length;

            const totalCharCount = chineseCount + englishCharCount + numberCount + punctCount + emojiCount + spaceCount;
            const weightedCharCount = (chineseCount * 3) + (englishCharCount * 1) + (numberCount * 1) + (punctCount * 1) + (emojiCount * 2) + (spaceCount * 1);

            document.getElementById('charCount').textContent = formatNumber(totalCharCount);
            document.getElementById('weightedCharCount').textContent = formatNumber(weightedCharCount);
            document.getElementById('lineCount').textContent = formatNumber(lineCount);
            document.getElementById('englishWordCount').textContent = formatNumber(englishWordCount);
            document.getElementById('chineseCount').textContent = formatNumber(chineseCount);
            document.getElementById('englishCharCount').textContent = formatNumber(englishCharCount);
            document.getElementById('punctCount').textContent = formatNumber(punctCount);
            document.getElementById('emojiCount').textContent = formatNumber(emojiCount);
            document.getElementById('numberCount').textContent = formatNumber(numberCount);
            document.getElementById('spaceCount').textContent = formatNumber(spaceCount);
        }

        function formatNumber(num) {
            if (num === 0) {
                return '0';
            }
            return num.toString().replace(/^0+/, ''); 
        }
        window.onload = analyzeText;
    </script>
</body>
</html>
]]></content>
      <categories>
        <category>小工具</category>
        <category>字數統計</category>
      </categories>
      <tags>
        <tag>小工具</tag>
        <tag>字數統計</tag>
      </tags>
  </entry>
  <entry>
    <title>學期成績計算</title>
    <url>/score/</url>
    <content><![CDATA[
<!DOCTYPE html>
<html lang="zh-TW">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <style>
        body {
            background-color: #f9f9f9;
            color: #333;
            font-family: Arial, sans-serif;
            margin: 0;
            padding: 0;
        }

        label {
            font-weight: bold;
        }

        input, button {
            padding: 12px;
            margin-bottom: 20px;
            border-radius: 6px;
            width: 100%;
            font-size: 16px;
            box-sizing: border-box;
            font-family: inherit;
            transition: all 0.3s ease;
        }

        input::placeholder {
            color: #888;
        }

        input {
            background-color: #fff;
            color: #333;
            border: 1px solid #ccc;
        }

        button {
            background-color: #888;
            color: white;
            border: none;
            box-shadow: 0 4px 8px rgba(0, 0, 0, 0.1);
            cursor: pointer;
            font-weight: bold;
        }

        button:hover {
            background-color: #818181;
            box-shadow: 0 6px 12px rgba(0, 0, 0, 0.2);
        }

        body.dark-mode {
            background-color: #1e1e1e;
            color: #e0e0e0;
        }

        body.dark-mode input {
            background-color: #333333;
            color: #e0e0e0;
            border: 1px solid #444;
        }

        body.dark-mode input::placeholder {
            color: #888;
        }

        body.dark-mode button {
            background-color: #555;
            color: white;
            border: none;
            box-shadow: 0 4px 8px rgba(0, 0, 0, 0.1);
        }

        body.dark-mode button:hover {
            background-color: #777;
            box-shadow: 0 6px 12px rgba(0, 0, 0, 0.2);
        }

        @media (max-width: 600px) {
            input, button {
                font-size: 14px;
                padding: 10px;
            }
        }
    </style>
</head>
<body>
    <h5>請輸入以下成績並按下按鈕，計算結果將顯示在按鈕下方。</h5>
    <hr>
    <form id="score-form">
        <label for="score1">第一次段考成績:</label>
        <input type="number" id="score1" name="score1" placeholder="必填" min="0" max="100" required>

        <label for="score2">第二次段考成績:</label>
        <input type="number" id="score2" name="score2" placeholder="必填" min="0" max="100" required>

        <label for="score3">第三次段考成績:</label>
        <input type="number" id="score3" name="score3" placeholder="選填" min="0" max="100">

        <label for="score4">平時成績:</label>
        <input type="number" id="score4" name="score4" placeholder="選填" min="0" max="100">

        <label for="previous_score">上學期成績:</label>
        <input type="number" id="previous_score" name="previous_score" placeholder="選填" min="0" max="100">

        <button type="submit">計算</button>
        
        <h4>計算結果</h4>
        <p id="result">計算結果僅供參考，祝段考順利！</p>
    </form>

    <script data-swup-reload-script type="text/javascript">
        document.getElementById('score-form').addEventListener('submit', function(event) {
            event.preventDefault();

            const getInputValue = (id) => parseFloat(document.getElementById(id).value);
            const roundToOneDecimal = (num) => parseFloat(num.toFixed(1));

            const score1 = getInputValue('score1');
            const score2 = getInputValue('score2');
            const score3 = getInputValue('score3');
            const score4 = getInputValue('score4');
            const previousScore = getInputValue('previous_score');

            const weightedScore1 = roundToOneDecimal(score1 * 0.2);
            const weightedScore2 = roundToOneDecimal(score2 * 0.2);
            const weightedScore3 = isNaN(score3) ? 0 : roundToOneDecimal(score3 * 0.3);
            const weightedScore4 = isNaN(score4) ? 0 : roundToOneDecimal(score4 * 0.3);
            const totalScore = roundToOneDecimal(weightedScore1 + weightedScore2 + weightedScore3 + weightedScore4);

            let responseMessage = "";

            const calculateRequiredScore = (currentTotal, weight) => roundToOneDecimal((59.5 - currentTotal) / weight);
            const calculateRequiredBothSemesters = (currentTotal, weight) => roundToOneDecimal((120 - previousScore - currentTotal) / weight);

            if (isNaN(score3) && isNaN(score4) && isNaN(previousScore)) {
                responseMessage = `總分(三段+平時)至少為 ${calculateRequiredScore(weightedScore1 + weightedScore2, 0.6)*2} 分。`;
            } else if (!isNaN(score3) && isNaN(score4) && isNaN(previousScore)) {
                const requiredScore4 = calculateRequiredScore(weightedScore1 + weightedScore2 + weightedScore3, 0.3);
                responseMessage = `平時成績至少為 ${requiredScore4} 分。`;
            } else if (isNaN(score3) && !isNaN(score4) && isNaN(previousScore)) {
                const requiredScore3 = calculateRequiredScore(weightedScore1 + weightedScore2 + weightedScore4, 0.3);
                responseMessage = `第三次段考至少為 ${requiredScore3} 分。`;
            } else if (isNaN(score3) && isNaN(score4) && !isNaN(previousScore)) {
                const requiredScoreThisSemester = calculateRequiredScore(weightedScore1 + weightedScore2, 0.6);
                const requiredScoreBothSemesters = calculateRequiredBothSemesters(weightedScore1 + weightedScore2, 0.6);
                responseMessage = `本學期要通過總分至少為 ${requiredScoreThisSemester*2} 分。\n兩學期皆通過總分至少為 ${requiredScoreBothSemesters*2} 分。`;
            } else if (!isNaN(score3) && !isNaN(score4) && isNaN(previousScore)) {
                responseMessage = totalScore >= 59.5 ? `恭喜本學期通過\n(本學期成績 ${totalScore} 分)` : `本學期未通過\n(本學期成績 ${totalScore} 分)`;
            } else if (!isNaN(score3) && isNaN(score4) && !isNaN(previousScore)) {
                const requiredScore4ThisSemester = calculateRequiredScore(weightedScore1 + weightedScore2 + weightedScore3, 0.3);
                const requiredScore4BothSemesters = calculateRequiredBothSemesters(weightedScore1 + weightedScore2 + weightedScore3, 0.3);
                responseMessage = `本學期要通過，平時成績至少為 ${requiredScore4ThisSemester} 分。\n兩學期皆通過，平時成績至少為 ${requiredScore4BothSemesters} 分。`;
            } else if (isNaN(score3) && !isNaN(score4) && !isNaN(previousScore)) {
                const requiredScore3ThisSemester = calculateRequiredScore(weightedScore1 + weightedScore2 + weightedScore4, 0.3);
                const requiredScore3BothSemesters = calculateRequiredBothSemesters(weightedScore1 + weightedScore2 + weightedScore4, 0.3);
                responseMessage = `本學期要通過，第三次段考至少為 ${requiredScore3ThisSemester} 分。\n兩學期皆通過，第三次段考至少為 ${requiredScore3BothSemesters} 分。`;
            } else if (!isNaN(score3) && !isNaN(score4) && !isNaN(previousScore)) {
                if ((totalScore + previousScore) >= 119.5) {
                    responseMessage = `恭喜兩學期皆通過\n(本學期成績 ${totalScore} 分，上學期成績 ${previousScore} 分)`;
                } else if (totalScore >= 59.5) {
                    responseMessage = `僅有本學期通過\n(本學期成績 ${totalScore} 分，上學期成績 ${previousScore} 分)`;
                } else if (previousScore >= 60) {
                    responseMessage = `僅有上學期通過\n(本學期成績 ${totalScore} 分，上學期成績 ${previousScore} 分)`;
                } else {
                    responseMessage = `本學期及上學期皆未通過\n(本學期成績 ${totalScore} 分，上學期成績 ${previousScore} 分)`;
                }
            }
            document.getElementById('result').innerText = responseMessage;
        });
    </script>
</body>
</html>

<details class="gray" data-header-exclude><summary><i class="fa-solid fa-chevron-right"></i>成績計算方式及說明 </summary>
              <div class='content'>
              <p class='h4' id="成績計算方式">成績計算方式</h4><p class='h5' id="學期成績計算">學期成績計算</h5><ol><li>第一、二次段考：各佔 20%</li><li>三段、平時成績：各佔 30%</li><li>學期成績採四捨五入至整數位</li></ol><h5 id="學年成績計算">學年成績計算</h5><ol><li>上、下學期成績：各佔 50%</li><li>學年成績採四捨五入至十分位</li></ol><hr><h4 id="輸出內容說明">輸出內容說明</h4><h5 id="若僅輸入第一、二次段考成績">若僅輸入第一、二次段考成績</h5><ol><li>若無上學期成績：輸出本學期通過 第三次段考和平時成績 最低所需的分數。</li><li>若有上學期成績：額外輸出兩學期皆通過 第三次段考和平時成績 最低所需的分數。</li></ol><h5 id="若輸入兩次段考成績及三段或平時成績其中一項">若輸入兩次段考成績及三段或平時成績其中一項</h5><ol><li>若無上學期成績：輸出本學期通過 另一項 最低所需的分數。</li><li>若有上學期成績：額外輸出兩學期皆通過 另一項 最低所需的分數。</li></ol><h5 id="若輸入所有成績">若輸入所有成績</h5><ol><li>若無上學期成績：輸出本學期是否通過。</li><li>若有上學期成績：輸出兩學期通過情況。</li></ol>
              </div>
            </details>]]></content>
      <categories>
        <category>小工具</category>
        <category>成績計算</category>
      </categories>
      <tags>
        <tag>小工具</tag>
        <tag>成績計算</tag>
      </tags>
  </entry>
</search>
